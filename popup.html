<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Seller Order AI</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="header">
        <img src="images/icon.png" alt="icon" class="logo">
        <h2>Seller Order AI</h2>
    </div>

    <hr>

    <!-- Ana MenÃ¼ GÃ¶rÃ¼nÃ¼mÃ¼ -->
    <div id="main-view">
        <div class="menu-list">
            <button id="toggle-side-panel-btn" class="menu-item">
                <span class="icon">ğŸ“–</span>
                <span class="text">Yan Paneli AÃ§/Kapat</span>
            </button>
             <button id="go-to-categories-btn" class="menu-item">
                <span class="icon">ğŸ—‚ï¸</span>
                <span class="text">Kategori Sorgulama</span>
            </button>
            <button id="go-to-seller-query-btn" class="menu-item">
                <span class="icon">ğŸ§‘â€ğŸ’¼</span>
                <span class="text">SatÄ±cÄ± Sorgulama</span>
            </button>
            <button id="go-to-test-view-btn" class="menu-item">
                <span class="icon">ğŸ§ª</span>
                <span class="text">Keepa URL ile Alma</span>
            </button>
        </div>
    </div>

    <!-- Kategori Sorgulama GÃ¶rÃ¼nÃ¼mÃ¼ (BaÅŸlangÄ±Ã§ta gizli) -->
    <div id="categories-view" style="display: none;">
        <div class="view-header">
            <button class="back-button">â† Geri</button>
            <h3>Kategori Sorgulama</h3>
            <button id="go-to-settings-from-cat-btn" class="header-action-btn">Keepa AyarlarÄ±</button>
        </div>
        <div class="category-controls">
            <button id="add-current-category-btn" class="action-button">Aktif Kategoriyi Ekle</button>
            <button id="add-new-list-btn" class="action-button secondary-button">+ Yeni Liste</button>
        </div>
        <div id="category-tabs" class="tabs">
            <!-- Sekmeler buraya dinamik olarak eklenecek -->
        </div>
        <div id="category-list-container" class="list-container">
            <!-- Kategoriler veya boÅŸ durum mesajÄ± buraya gelecek -->
        </div>
        <div class="category-actions">
            <button id="query-selected-btn" class="action-button save-button">SeÃ§ilenleri Sorgula</button>
        </div>
        <div class="result-controls" style="display: none;">
            <button id="show-last-result-btn" class="action-button secondary-button">Son SonuÃ§larÄ± GÃ¶ster</button>
            <button id="delete-results-btn" class="action-button danger-button">SonuÃ§larÄ± Sil</button>
            <button id="shuffle-results-btn" class="action-button">SonuÃ§larÄ± KarÄ±ÅŸtÄ±r</button>
        </div>
        <div id="query-status" style="text-align: center; margin-top: 10px; display: none;"></div>
        
        <!-- Ã‡oklu kolon sonuÃ§larÄ± artÄ±k burada gÃ¶sterilecek -->
        <div id="multi-column-results-container" class="multi-column-container" style="display: none;"></div>
    </div>

    <!-- SatÄ±cÄ± Sorgulama GÃ¶rÃ¼nÃ¼mÃ¼ (BaÅŸlangÄ±Ã§ta gizli, kategori gÃ¶rÃ¼nÃ¼mÃ¼nÃ¼n kopyasÄ±) -->
    <div id="seller-query-view" style="display: none;">
        <div class="view-header">
            <button class="back-button">â† Geri</button>
            <h3>SatÄ±cÄ± Sorgulama</h3>
        </div>
        <div class="category-controls">
            <button id="add-current-seller-btn" class="action-button">Aktif SatÄ±cÄ±yÄ± Ekle</button>
            <button id="add-new-seller-list-btn" class="action-button secondary-button">Yeni Liste</button>
        </div>
        <div id="seller-tabs-container" class="tabs">
            <!-- SatÄ±cÄ± listesi sekmeleri buraya dinamik olarak eklenecek -->
        </div>
        <div id="seller-list-container" class="list-container">
            <!-- SatÄ±cÄ±lar buraya render edilecek -->
        </div>

        <div class="category-actions">
            <button id="query-sellers-btn" class="action-button primary">SeÃ§ilenleri Sorgula</button>
            <div style="display: flex; align-items: center; margin-left: 15px;">
                <input type="checkbox" id="force-live-seller-query-checkbox" style="margin-right: 5px;" title="Keepa'nÄ±n Ã¶nbelleÄŸini atlayÄ±p doÄŸrudan Amazon'dan canlÄ± veri Ã§ekmeyi zorunlu kÄ±lar. Ek token maliyeti olabilir.">
                <label for="force-live-seller-query-checkbox" style="font-size: 12px; color: #374151;">CanlÄ± Veri Zorla</label>
            </div>
        </div>

        <!-- SonuÃ§lar BÃ¶lÃ¼mÃ¼ -->
        <div id="seller-results-section" style="display: none; margin-top: 15px;">
            <div class="results-actions">
                <button id="toggle-seller-results-btn" class="action-button">SonuÃ§larÄ± Gizle</button>
                <button id="copy-all-seller-asins-btn" class="action-button">TÃ¼mÃ¼nÃ¼ Kopyala</button>
                <button id="shuffle-seller-asins-btn" class="action-button">KarÄ±ÅŸtÄ±r</button>
                <button id="delete-all-seller-results-btn" class="action-button danger-button">TÃ¼m SonuÃ§larÄ± Sil</button>
            </div>
            <div id="seller-query-status" style="margin-bottom: 10px; text-align: center;"></div>
            <div id="seller-results-container" class="multi-column-container">
                <!-- SatÄ±cÄ± sonuÃ§ kolonlarÄ± buraya render edilecek -->
            </div>
        </div>
        
    </div>

    <!-- Ayarlar GÃ¶rÃ¼nÃ¼mÃ¼ (BaÅŸlangÄ±Ã§ta gizli) -->
    <div id="settings-view" style="display: none;">
        <div class="view-header">
            <button class="back-button">â† Geri</button>
            <h3>Keepa AyarlarÄ±</h3>
            <button id="go-to-categories-from-settings-btn" class="header-action-btn">Kategori Sorgulama</button>
        </div>
        <div class="settings-scroll-container">
            <!-- Genel Filtreler -->
            <div class="form-section">
                <h4>Genel Filtreler</h4>
                <div class="form-group">
                    <label for="keepa-api-key">Keepa API AnahtarÄ±:</label>
                    <input type="password" id="keepa-api-key" placeholder="API AnahtarÄ±nÄ±zÄ± Girin">
                </div>
                <div class="form-group">
                    <label for="country-select">Pazar Yeri:</label>
                    <select id="country-select" name="country"></select>
                </div>
                <div class="setting-row">
                    <label>SatÄ±ÅŸ SÄ±rasÄ± (Rank):</label>
                    <div class="input-group">
                        <input type="number" id="min-rank" class="setting-input" placeholder="Min">
                        <span>-</span>
                        <input type="number" id="max-rank" class="setting-input" placeholder="Max">
                    </div>
                </div>
                <div class="setting-row">
                    <label>Buybox Fiyat AralÄ±ÄŸÄ± ($):</label>
                    <div class="input-group-with-checkbox">
                        <div class="input-group">
                            <input type="number" id="min-buybox-price" class="setting-input" placeholder="Min">
                            <span>-</span>
                            <input type="number" id="max-buybox-price" class="setting-input" placeholder="Max">
                        </div>
                        <label class="side-checkbox-label">
                            <input type="checkbox" id="buybox-out-of-stock-checkbox"> Buybox fiyatÄ± olmayanlar
                        </label>
                    </div>
                </div>
                <div class="setting-row">
                    <label>Amazon Fiyat AralÄ±ÄŸÄ± ($):</label>
                    <div class="input-group-with-checkbox">
                        <div class="input-group">
                            <input type="number" id="min-amazon-price" class="setting-input" placeholder="Min">
                            <span>-</span>
                            <input type="number" id="max-amazon-price" class="setting-input" placeholder="Max">
                        </div>
                         <label class="side-checkbox-label">
                            <input type="checkbox" id="amazon-out-of-stock-checkbox"> Amazon fiyatÄ± olmayanlar
                        </label>
                    </div>
                </div>
                <div class="setting-row">
                    <label>FBA Fiyat AralÄ±ÄŸÄ± ($):</label>
                    <div class="input-group-with-checkbox">
                        <div class="input-group">
                            <input type="number" id="min-fba-price" class="setting-input" placeholder="Min">
                            <span>-</span>
                            <input type="number" id="max-fba-price" class="setting-input" placeholder="Max">
                        </div>
                         <label class="side-checkbox-label">
                            <input type="checkbox" id="fba-out-of-stock-checkbox"> FBA fiyatÄ± olmayanlar
                        </label>
                    </div>
                </div>
                <div class="setting-row">
                    <label>FBM Fiyat AralÄ±ÄŸÄ± ($):</label>
                    <div class="input-group-with-checkbox">
                        <div class="input-group">
                            <input type="number" id="min-fbm-price" class="setting-input" placeholder="Min">
                            <span>-</span>
                            <input type="number" id="max-fbm-price" class="setting-input" placeholder="Max">
                        </div>
                         <label class="side-checkbox-label">
                            <input type="checkbox" id="fbm-out-of-stock-checkbox"> FBM fiyatÄ± olmayanlar
                        </label>
                    </div>
                </div>
                <div class="setting-row">
                    <label>En DÃ¼ÅŸÃ¼k Yeni Fiyat ($):</label>
                    <div class="input-group-with-checkbox">
                        <div class="input-group">
                            <input type="number" id="min-new-price" class="setting-input" placeholder="Min">
                            <span>-</span>
                            <input type="number" id="max-new-price" class="setting-input" placeholder="Max">
                        </div>
                         <label class="side-checkbox-label">
                            <input type="checkbox" id="new-price-out-of-stock-checkbox"> FiyatÄ± olmayanlar
                        </label>
                    </div>
                </div>
                <div class="setting-row">
                    <label>Sabit Kupon TutarÄ± ($):</label>
                    <div class="input-group">
                        <input type="number" id="min-coupon-absolute" class="setting-input" placeholder="Min">
                        <span>-</span>
                        <input type="number" id="max-coupon-absolute" class="setting-input" placeholder="Max">
                    </div>
                </div>
                <div class="setting-row">
                    <label>Kuponun YÃ¼zdesel Ä°ndirimi (%):</label>
                    <div class="input-group">
                        <input type="number" id="min-coupon-percent" class="setting-input" placeholder="Min">
                        <span>-</span>
                        <input type="number" id="max-coupon-percent" class="setting-input" placeholder="Max">
                    </div>
                </div>
                <div class="setting-row">
                    <label>Subscribe & Save (%):</label>
                    <div class="input-group">
                        <input type="number" id="min-sns-percent" class="setting-input" placeholder="Min">
                        <span>-</span>
                        <input type="number" id="max-sns-percent" class="setting-input" placeholder="Max">
                    </div>
                </div>
                <div class="setting-row">
                    <label>Business Discount (%):</label>
                    <div class="input-group">
                        <input type="number" id="min-business-discount" class="setting-input" placeholder="Min">
                        <span>-</span>
                        <input type="number" id="max-business-discount" class="setting-input" placeholder="Max">
                    </div>
                </div>
                <div class="setting-row">
                    <label>Yorum SayÄ±sÄ±:</label>
                    <div class="input-group">
                        <input type="number" id="min-rating-count" class="setting-input" placeholder="Min">
                        <span>-</span>
                        <input type="number" id="max-rating-count" class="setting-input" placeholder="Max">
                    </div>
                </div>
                <div class="setting-row">
                    <label>ÃœrÃ¼n PuanÄ± (1-5):</label>
                    <div class="input-group">
                        <input type="number" id="min-rating" class="setting-input" placeholder="Min" min="0" max="5" step="0.1">
                        <span>-</span>
                        <input type="number" id="max-rating" class="setting-input" placeholder="Max" min="0" max="5" step="0.1">
                    </div>
                </div>
                <div class="setting-row">
                    <label>AylÄ±k SatÄ±ÅŸ Adedi:</label>
                    <div class="input-group">
                        <input type="number" id="min-monthly-sold" class="setting-input" placeholder="Min" min="10" step="1">
                        <span>-</span>
                        <input type="number" id="max-monthly-sold" class="setting-input" placeholder="Max" step="1">
                    </div>
                </div>
                <div class="form-group">
                    <label for="asin-count-input">ASIN SayÄ±sÄ±:</label>
                    <input type="number" id="asin-count-input" class="setting-input" min="1" max="10000" placeholder="Ã¶rn: 100">
                </div>
            </div>

            <!-- SatÄ±cÄ± ve Teklif SayÄ±larÄ± -->
            <div class="form-section">
                <h4>SatÄ±cÄ± & Teklif SayÄ±larÄ±</h4>
                <div class="form-group">
                    <label>Eski-Yeni Dahil TÃ¼m Teklifler:</label>
                    <div class="min-max-group">
                        <input type="number" id="min-total-offers" placeholder="Min">
                        <input type="number" id="max-total-offers" placeholder="Max">
                    </div>
                </div>
                <div class="form-group">
                    <label>Toplam Yeni Teklif SayÄ±sÄ±:</label>
                    <div class="min-max-group">
                        <input type="number" id="min-new-offers" placeholder="Min">
                        <input type="number" id="max-new-offers" placeholder="Max">
                    </div>
                </div>
                <div class="form-group">
                    <label>Toplam FBA Teklif SayÄ±sÄ±:</label>
                    <div class="min-max-group">
                        <input type="number" id="min-fba-offers" placeholder="Min">
                        <input type="number" id="max-fba-offers" placeholder="Max">
                    </div>
                </div>
                <div class="form-group">
                    <label>Toplam FBM Teklif SayÄ±sÄ±:</label>
                    <div class="min-max-group">
                        <input type="number" id="min-fbm-offers" placeholder="Min">
                        <input type="number" id="max-fbm-offers" placeholder="Max">
                    </div>
                </div>
            </div>

            <!-- GeliÅŸmiÅŸ Filtreler -->
            <div class="form-section">
                <h4>GeliÅŸmiÅŸ Filtreler</h4>
                <div class="setting-row">
                    <label>ÃœrÃ¼n Tipleri:</label>
                    <div class="checkbox-group">
                        <label><input type="checkbox" class="product-type-checkbox" value="0"> Fiziksel</label>
                        <label><input type="checkbox" class="product-type-checkbox" value="1"> Dijital</label>
                        <label><input type="checkbox" class="product-type-checkbox" value="2"> E-Kitap</label>
                    </div>
                </div>
                <div class="setting-row">
                    <label>Varyasyon Durumu:</label>
                    <div class="radio-group" id="variation-status-group">
                        <label><input type="radio" name="variation-status" value="all" checked> TÃ¼mÃ¼</label>
                        <label><input type="radio" name="variation-status" value="no"> Varyasyonsuz</label>
                        <label><input type="radio" name="variation-status" value="yes"> Varyasyonlu</label>
                    </div>
                </div>
                <div class="setting-row">
                    <label>&nbsp;</label> <!-- for alignment -->
                    <div class="checkbox-group">
                        <label><input type="checkbox" id="single-variation-checkbox"> Her Ã¼rÃ¼nden sadece bir varyasyon gÃ¶ster</label>
                    </div>
                </div>
            </div>
        </div>
        
        <button id="save-keepa-settings-btn" class="action-button save-button">AyarlarÄ± Kaydet</button>
        <div id="status-message"></div>
    </div>
    
    <!-- SonuÃ§lar GÃ¶rÃ¼nÃ¼mÃ¼ (BaÅŸlangÄ±Ã§ta gizli) -->
    <div id="results-view" style="display: none;">
        <div class="view-header">
            <button class="back-button">â† Geri</button>
            <h3>Sorgu Sonucu <span id="single-result-count" class="count-badge"></span></h3>
        </div>
        <div class="results-actions">
            <button id="copy-single-result-btn" class="action-button">Sonucu Kopyala</button>
        </div>
        <!-- En son yapÄ±lan sorgunun sonucu burada gÃ¶sterilecek -->
        <div id="single-result-container" class="list-container"></div>
    </div>

    <!-- Test GÃ¶rÃ¼nÃ¼mÃ¼ (BaÅŸlangÄ±Ã§ta gizli) -->
    <div id="test-view" style="display: none;">
        <div class="view-header">
            <button class="back-button">â† Geri</button>
            <h3>Keepa URL ile Alma</h3>
        </div>
        <div class="test-controls">
             <p>Bu bÃ¶lÃ¼m, API baÄŸlantÄ±sÄ±nÄ± test etmek iÃ§indir.</p>
            <button id="start-test-query-btn" class="action-button">1. Token Sorgula</button>
            <hr style="margin: 15px 0;">
            <p>AÅŸaÄŸÄ±daki alana, iÃ§inde `YOUR_API_KEY` yer tutucusu bulunan tam Keepa URL'sini yapÄ±ÅŸtÄ±rÄ±n ve sorgulayÄ±n.</p>
            <textarea id="user-url-input" placeholder="https://api.keepa.com/query?key=YOUR_API_KEY..."></textarea>
            <button id="start-user-url-test-btn" class="action-button">2. KullanÄ±cÄ± URL'si ile Sorgula</button>
        </div>
        <div id="test-query-status" style="text-align: center; margin-top: 10px; display: none;"></div>
        <div id="test-multi-column-results-container" class="multi-column-container" style="display: none;">
            <!-- Test sonuÃ§ kolonlarÄ± buraya render edilecek -->
        </div>
    </div>

    <script src="popup.js"></script>
</body>
</html> 